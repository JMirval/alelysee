## Server (Dioxus fullstack)
#
# Required to run `dx serve` with server functions + Postgres.

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# APP MODE
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#
# Controls which service implementations to use:
#   - local: SQLite DB, console email, filesystem storage
#   - production: PostgreSQL, SMTP email, S3 storage
#
# Default: production
#
# For local development without external dependencies:
#   APP_MODE=local
#
# This will:
#   - Use SQLite database (.dev/local.db)
#   - Log emails to console instead of sending
#   - Store uploads in .dev/uploads/
#   - Auto-create mock users on first run
#
APP_MODE=production

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# DATABASE
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#
# Postgres (local or hosted)
# Only used when APP_MODE=production
DATABASE_URL=postgres://postgres:postgres@localhost:5432/alelysee

# Auth (OIDC/OAuth)
AUTH_AUTHORIZE_URL=https://auth.example.com/oauth2/authorize
AUTH_CLIENT_ID=your-client-id
AUTH_REDIRECT_URI=http://localhost:8080/auth/callback
AUTH_ISSUER=https://auth.example.com/
AUTH_JWKS_URL=https://auth.example.com/.well-known/jwks.json

# Object storage uploads (not wired yet)
STORAGE_BUCKET=your-storage-bucket
STORAGE_ENDPOINT=https://storage.example.com
STORAGE_REGION=auto
STORAGE_ACCESS_KEY=your-access-key
STORAGE_SECRET_KEY=your-secret-key

# Optional: for video playback (recommended)
# Example: https://cdn.example.com
MEDIA_BASE_URL=

# SMTP for email verification and password reset
SMTP_HOST=stalwart.railway.internal
SMTP_PORT=587
SMTP_USERNAME=your-username
SMTP_PASSWORD=your-password
SMTP_FROM_EMAIL=noreply@alelysee.com
SMTP_FROM_NAME=Alelysee
APP_BASE_URL=http://localhost:8080

# JWT secret for local email/password auth (min 32 chars, use cryptographically random value)
JWT_SECRET=your-secret-key-min-32-chars-change-in-production
